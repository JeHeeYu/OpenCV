# 영상의 산술 연산

OpenCV에서 영상은 일종의 2차원 행렬이기 때문에 산술 연산이나 논리 연산을 적용할 수 있다.
<br>
2개의 영상을 서로 더하거나 빼는 등 산술 연산을 수행함으로써 다른 영상을 생성할 수 있다.
<br>
영상들끼리 곱셈이나 나눗셈의 연산은 거의 사용하지 않는다.

## 영상의 덧셈
영상의 덧셈은 2개의 입력 영상에서 같은 위치 픽셀 값을 서로 더하여 결과 영상 픽셀 값으로 설정하는 연산이다.
<br>
<br>
![image](https://user-images.githubusercontent.com/87363461/203887417-91172f1d-34d3-4c2a-a7b5-4c1867c9eb44.png)
<br>
<br>
dst는 덧셈 연산의 결과이고, src1과 src2가 입력 영상이다.
<br>
영상의 덧셈 연산을 통하여 그 결과 값이 그레이스케일의 최대값인 255보다 커질 수 있으므로 포화 연산을 함께 적용한다.
<br>
<br>
OpenCV에서 산술 연산을 위해 제공하는 함수가 있다.

### add()

<pre>
void add(InputArray src1, InputArray src2, OutputArray dst, InputArray mask = noArray(), int dtype = -1);

src1 : 1번째 입력 행렬 또는 스칼라
src2 : 2번째 입력 행렬 또는 스칼라
dst : 입력 행렬과 같은 크기.
mask : 8비트 1채널 마스크 영샹
dtype : 출력 행렬의 깊이
</pre>
add() 함수는 2개의 행렬 또는 영상을 입력으로 받고, 1개의 행렬 또는 영상을 출력하는 함수이다.
<br>
<br>
src1, src2 인자에는 Mat 객체, Scalar 객체, 정수, 실수 등 여러 자료형을 전달할 수 있다.
<br>
src1, src2가 모두 영상처럼 2차원 행렬을 나타내는 Mat 객체라면 일반적인 행렬의 덧셈 연산을 수행한다.
<br>
src1이 Mat 객체이고, src2가 Scalar나 정수, 실수 등의 자료형 이라면 src1 행렬의 모든 픽셀 값에 src2 값을 더한다.
<br>
결과가 dst 객체가 표현할 수 있는 자료형 범위를 벗어나면 자동으로 포화 연산을 수행한다.
<br>
<br>
mask 인자는 기본값을 가지고 있으며, 기본값을 변경할 필요가 없으면 생략할 수 있다.
<br>
mask 행렬 원소 값이 0이 아닌 위치에서만 덧셈 연산을 수행한다.
<br>
<br>
dtype 인자는 -1을 기본값으로 가지고 있으며, 변경할 필요가 없으면 생략할 수 있다.
<br>
src1과 src2 깊이가 같은 경우, dtype에 -1을 지정할 수 있는데, 이 경우 dst의 깊이는 src1, src2와 같은 깊이로 설정된다.
<br>
src1과 src2의 깊이가 서로 다른 경우 dtype을 반드시 지정해야 한다.
