# 블러링 기법

## 블러링 기법(Bluring)이란
블러링이란 마치 초점이 맞지 않은 사진처럼 영상을 부드럽게 만드는 필터링 기법이다. 스무딩(smoothing)이라고도 한다.
<br>
영상에서 인접한 픽셀 간의 픽셀 값 변화가 크지 않은 경우 부드러운 느낌을 받을 수 있다.
<br>
블러링은 거친 느낌의 입력 영상을 부드럽게 만드는 용도로 사용되거나 영상에 존재하는 잡음의 영향을 제거하는 전처리 과정으로 사용한다

### 평균값 필터
블러링 필터 중 단순하고 구현하기 쉬운 평균값 필터(mean filter)가 있다.
<br>
평균값 필터란 입력 영상에서 특정 픽셀과 주변 픽셀들의 산술 평균을 결과 영상 픽셀 값에 설정하는 필터이다.
<br>
평균값 필터에 의해 생성되는 결과 영상은 픽셀 값의 변화가 줄어들고, 날카로운 에지가 무뎌지며 노이즈의 영향이 크게 사라지는 효과가 있다.
<br>
<br>
그러나 평균값 필터를 너무 과도하게 사용하면 사물의 경계가 흐릿해지며 구분이 어려워진다.
<br>
평균값 필터 마스크는 마스크의 크기가 커지면 커질수록 더욱 부드러운 느낌의 결과 영상을 생성할 수 있다.
<br>
대신 연산량이 크게 증가할 수도 있다.
<br>
<br>
3 x 3 크기의 평균값 필터 마스크는 9개의 원소 개수로, 각각의 행렬은 모든 원소가 1/9로 설정된 행렬이다.
<br>
5 x 5 크기의 평균값 필터 마스크는 25개의 원소 개수로, 각각의 행렬은 모든 원소가 1/25로 구성된 행렬이다.
<br>
<br>
![image](https://user-images.githubusercontent.com/87363461/203896157-268d8ee3-e788-4fec-8c42-170778857d33.png)

<br>
<br>
OpenCV에서 평균값 필터링 수행을 위해 blur() 함수를 제공한다.

### blur()
```
void blur(InputArray src, OutputArray dst, Size ksize, Point anchor = Point(-1, -1), int borderType = BORDER_DEFAULT);

src : 입력 영상
src : 출력 영상으로 src와 같은 크기, 같은 채널 수를 갖는다.
ksize : 블러링 커널 크기
anchor : 고정점 좌표로 (-1, -1)을 지정하면 커널 중심점을 고정점으로 사용한다.
borderType : 가장자리 픽셀 확장 방식
```

src인자는 입력 영상으로, 다채널 영상은 각 채널별로 블러링을 수행한다.
<br>
입력 영상의 깊이는 CV_8U, CV_16U, CV_16S, CV_32F, CV_64F 중 하나여야 한다.
<br>
<br>
anchor, borderType 인자는 기본값을 가지고 있으므로 생략할 수 있다.
<br>
ksize는 블러링 커널의 크기로, ksize 크기의 평균값 필터 마스를 사용하여 dst 출력 영상을 생성한다.
<br>
kernel의 크기는 1/ksize.width * ksize.height로 나타낼 수 있다.
<br>
<br>
![image](https://user-images.githubusercontent.com/87363461/203896222-51ceba42-da3e-4b43-8f22-a69808eeb51f.png)

<br>
<br>
